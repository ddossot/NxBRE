<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!-- Generated by org.nxbre.ie.adapters.RuleML086NafDatalogAdapter -->
<rulebase xmlns="http://www.ruleml.org/0.86/xsd" xsi:schemaLocation="http://www.ruleml.org/0.86/xsd ruleml-0_86-nafdatalog.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" direction="forward">
  <_rbaselab>
    <ind>NxBRE RuleML 0.86 NafDatalog Test File</ind>
  </_rbaselab>
  <!--Queries-->
  <query>
    <_rlab>
      <ind>Safe Room List</ind>
    </_rlab>
    <_body>
      <and>
        <atom>
          <_opr>
            <rel>Room In Zone</rel>
          </_opr>
          <var>Room Number</var>
          <var>Zone Number</var>
        </atom>
        <or>
          <atom>
            <_opr>
              <rel>Firemen In Room</rel>
            </_opr>
            <var>Room Number</var>
          </atom>
          <and>
            <naf>
              <atom>
                <_opr>
                  <rel>Fire Alarm In Room</rel>
                </_opr>
                <var>Room Number</var>
              </atom>
            </naf>
            <naf>
              <atom>
                <_opr>
                  <rel>Alarm Fault In Room</rel>
                </_opr>
                <var>Event Type</var>
                <var>Room Number</var>
              </atom>
            </naf>
          </and>
        </or>
      </and>
    </_body>
  </query>
  <query>
    <_rlab>
      <ind>Query A and B</ind>
    </_rlab>
    <_body>
      <and>
        <atom>
          <_opr>
            <rel>flag</rel>
          </_opr>
          <var>object</var>
          <ind>andTestB</ind>
        </atom>
        <atom>
          <_opr>
            <rel>flag</rel>
          </_opr>
          <var>object</var>
          <ind>andTestA</ind>
        </atom>
      </and>
    </_body>
  </query>
  <query>
    <_rlab>
      <ind>Query A and B and C</ind>
    </_rlab>
    <_body>
      <and>
        <atom>
          <_opr>
            <rel>flag</rel>
          </_opr>
          <var>otherObject</var>
          <ind>andTestC</ind>
        </atom>
        <atom>
          <_opr>
            <rel>flag</rel>
          </_opr>
          <var>object</var>
          <ind>andTestB</ind>
        </atom>
        <atom>
          <_opr>
            <rel>flag</rel>
          </_opr>
          <var>object</var>
          <ind>andTestA</ind>
        </atom>
      </and>
    </_body>
  </query>
  <query>
    <_rlab>
      <ind>Query A</ind>
    </_rlab>
    <_body>
      <atom>
        <_opr>
          <rel>flag</rel>
        </_opr>
        <var>object</var>
        <ind>triggerQueryA</ind>
      </atom>
    </_body>
  </query>
  <query>
    <_rlab>
      <ind>Query B</ind>
    </_rlab>
    <_body>
      <atom>
        <_opr>
          <rel>flag</rel>
        </_opr>
        <var>object</var>
        <ind>triggerQueryB</ind>
      </atom>
    </_body>
  </query>
  <query>
    <_rlab>
      <ind>Operator e</ind>
    </_rlab>
    <_body>
      <atom>
        <_opr>
          <rel>probe</rel>
        </_opr>
        <var>object</var>
        <ind>NxBRE:Equals(100)</ind>
      </atom>
    </_body>
  </query>
  <query>
    <_rlab>
      <ind>Operator gt</ind>
    </_rlab>
    <_body>
      <atom>
        <_opr>
          <rel>probe</rel>
        </_opr>
        <var>object</var>
        <ind>NxBRE:GreaterThan(100)</ind>
      </atom>
    </_body>
  </query>
  <query>
    <_rlab>
      <ind>Operator gte</ind>
    </_rlab>
    <_body>
      <atom>
        <_opr>
          <rel>probe</rel>
        </_opr>
        <var>object</var>
        <ind>NxBRE:GreaterThanEqualTo(100)</ind>
      </atom>
    </_body>
  </query>
  <query>
    <_rlab>
      <ind>Operator lt</ind>
    </_rlab>
    <_body>
      <atom>
        <_opr>
          <rel>probe</rel>
        </_opr>
        <var>object</var>
        <ind>NxBRE:LessThan(100)</ind>
      </atom>
    </_body>
  </query>
  <query>
    <_rlab>
      <ind>Operator lte</ind>
    </_rlab>
    <_body>
      <atom>
        <_opr>
          <rel>probe</rel>
        </_opr>
        <var>object</var>
        <ind>NxBRE:LessThanEqualTo(100)</ind>
      </atom>
    </_body>
  </query>
  <query>
    <_rlab>
      <ind>Operator ne</ind>
    </_rlab>
    <_body>
      <atom>
        <_opr>
          <rel>probe</rel>
        </_opr>
        <var>object</var>
        <ind>NxBRE:NotEquals(100)</ind>
      </atom>
    </_body>
  </query>
  <query>
    <_rlab>
      <ind>Operator matches</ind>
    </_rlab>
    <_body>
      <atom>
        <_opr>
          <rel>matchesProbe</rel>
        </_opr>
        <var>object</var>
        <ind>NxBRE:Matches(^-?\d+(\.\d{2})?$)</ind>
      </atom>
    </_body>
  </query>
  <query>
    <_rlab>
      <ind>One Atom Var-less</ind>
    </_rlab>
    <_body>
      <atom>
        <_opr>
          <rel>varless.value</rel>
        </_opr>
        <ind>NxBRE:GreaterThan(C)</ind>
      </atom>
    </_body>
  </query>
  <query>
    <_rlab>
      <ind>Two Atoms Var-less</ind>
    </_rlab>
    <_body>
      <and>
        <atom>
          <_opr>
            <rel>varless.value</rel>
          </_opr>
          <ind>NxBRE:GreaterThan(C)</ind>
        </atom>
        <atom>
          <_opr>
            <rel>varless.value</rel>
          </_opr>
          <ind>NxBRE:GreaterThanEqualTo(A)</ind>
        </atom>
      </and>
    </_body>
  </query>
  <query>
    <_rlab>
      <ind>Two Atoms</ind>
    </_rlab>
    <_body>
      <and>
        <atom>
          <_opr>
            <rel>varless.value</rel>
          </_opr>
          <ind>NxBRE:GreaterThan(C)</ind>
        </atom>
        <atom>
          <_opr>
            <rel>varless.value</rel>
          </_opr>
          <var>Whatever</var>
        </atom>
      </and>
    </_body>
  </query>
  <query>
    <_rlab>
      <ind>Expression in Atom Relation</ind>
    </_rlab>
    <_body>
      <and>
        <atom>
          <_opr>
            <rel>Contract Details</rel>
          </_opr>
          <var>Reference</var>
          <var>Date</var>
        </atom>
        <atom>
          <_opr>
            <rel>expr:{var:Date} &lt; System.DateTime.Now</rel>
          </_opr>
          <var>Date</var>
        </atom>
      </and>
    </_body>
  </query>
  <query>
    <_rlab>
      <ind>Expression in Individual Evaluation</ind>
    </_rlab>
    <_body>
      <atom>
        <_opr>
          <rel>talking</rel>
        </_opr>
        <var>character</var>
        <ind>expr:{ind}.StartsWith("hello")</ind>
      </atom>
    </_body>
  </query>
  <!--Implications-->
  <imp>
    <_rlab>
      <ind>Test A and B or C</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>testAandBorC</rel>
        </_opr>
        <var>account</var>
      </atom>
    </_head>
    <_body>
      <and>
        <atom>
          <_opr>
            <rel>id</rel>
          </_opr>
          <var>account</var>
          <ind>NxBRE:LessThan(500)</ind>
        </atom>
        <or>
          <atom>
            <_opr>
              <rel>balance</rel>
            </_opr>
            <var>account</var>
            <ind>NxBRE:GreaterThanEqualTo(100)</ind>
          </atom>
          <atom>
            <_opr>
              <rel>balance</rel>
            </_opr>
            <var>account</var>
            <ind>NxBRE:LessThanEqualTo(50)</ind>
          </atom>
        </or>
      </and>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>Test B or C and A</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>testCorBandA</rel>
        </_opr>
        <var>account</var>
      </atom>
    </_head>
    <_body>
      <and>
        <atom>
          <_opr>
            <rel>id</rel>
          </_opr>
          <var>account</var>
          <ind>NxBRE:LessThan(500)</ind>
        </atom>
        <or>
          <atom>
            <_opr>
              <rel>balance</rel>
            </_opr>
            <var>account</var>
            <ind>NxBRE:LessThanEqualTo(50)</ind>
          </atom>
          <atom>
            <_opr>
              <rel>balance</rel>
            </_opr>
            <var>account</var>
            <ind>NxBRE:GreaterThanEqualTo(100)</ind>
          </atom>
        </or>
      </and>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>label:Test A or D and E and B or C;priority:95;</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>testAorDandEandBorC</rel>
        </_opr>
        <var>account</var>
      </atom>
    </_head>
    <_body>
      <and>
        <atom>
          <_opr>
            <rel>testCorBandA</rel>
          </_opr>
          <var>account</var>
        </atom>
        <or>
          <atom>
            <_opr>
              <rel>balance</rel>
            </_opr>
            <var>account</var>
            <ind>NxBRE:GreaterThanEqualTo(1000)</ind>
          </atom>
          <atom>
            <_opr>
              <rel>balance</rel>
            </_opr>
            <var>account</var>
            <ind>NxBRE:LessThanEqualTo(50)</ind>
          </atom>
        </or>
        <or>
          <atom>
            <_opr>
              <rel>testAandBorC</rel>
            </_opr>
            <var>account</var>
          </atom>
          <atom>
            <_opr>
              <rel>id</rel>
            </_opr>
            <var>account</var>
            <ind>NxBRE:LessThan(5)</ind>
          </atom>
        </or>
      </and>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>label:Test A and F or G or A and G;priority:100;</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>testAandForGorAandG</rel>
        </_opr>
        <var>account</var>
      </atom>
    </_head>
    <_body>
      <or>
        <atom>
          <_opr>
            <rel>balance</rel>
          </_opr>
          <var>account</var>
          <ind>NxBRE:GreaterThan(100)</ind>
        </atom>
        <and>
          <atom>
            <_opr>
              <rel>balance</rel>
            </_opr>
            <var>account</var>
            <ind>NxBRE:GreaterThan(100)</ind>
          </atom>
          <atom>
            <_opr>
              <rel>id</rel>
            </_opr>
            <var>account</var>
            <ind>NxBRE:LessThan(500)</ind>
          </atom>
        </and>
        <and>
          <atom>
            <_opr>
              <rel>testAorDandEandBorC</rel>
            </_opr>
            <var>account</var>
          </atom>
          <atom>
            <_opr>
              <rel>id</rel>
            </_opr>
            <var>account</var>
            <ind>NxBRE:LessThan(500)</ind>
          </atom>
        </and>
      </or>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>Test A and B</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>testAandB</rel>
        </_opr>
        <var>object</var>
      </atom>
    </_head>
    <_body>
      <and>
        <atom>
          <_opr>
            <rel>flag</rel>
          </_opr>
          <var>object</var>
          <ind>andTestB</ind>
        </atom>
        <atom>
          <_opr>
            <rel>flag</rel>
          </_opr>
          <var>object</var>
          <ind>andTestA</ind>
        </atom>
      </and>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>Test B and C</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>testBandC</rel>
        </_opr>
        <var>object</var>
      </atom>
    </_head>
    <_body>
      <and>
        <atom>
          <_opr>
            <rel>flag</rel>
          </_opr>
          <var>object</var>
          <ind>andTestC</ind>
        </atom>
        <atom>
          <_opr>
            <rel>flag</rel>
          </_opr>
          <var>object</var>
          <ind>andTestB</ind>
        </atom>
      </and>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>Test Strict Imp</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>testStrict</rel>
        </_opr>
        <var>valueA</var>
        <var>valueB</var>
      </atom>
    </_head>
    <_body>
      <or>
        <atom>
          <_opr>
            <rel>flagStrictB</rel>
          </_opr>
          <var>valueA</var>
          <var>valueB</var>
        </atom>
        <atom>
          <_opr>
            <rel>flagStrictA</rel>
          </_opr>
          <var>valueA</var>
        </atom>
      </or>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>Test B or C</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>testBorC</rel>
        </_opr>
        <var>object</var>
      </atom>
    </_head>
    <_body>
      <or>
        <atom>
          <_opr>
            <rel>flag</rel>
          </_opr>
          <var>object</var>
          <ind>andTestC</ind>
        </atom>
        <atom>
          <_opr>
            <rel>flag</rel>
          </_opr>
          <var>object</var>
          <ind>andTestB</ind>
        </atom>
      </or>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>Medium</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>mediumImpl</rel>
        </_opr>
        <var>object</var>
      </atom>
    </_head>
    <_body>
      <atom>
        <_opr>
          <rel>flag</rel>
        </_opr>
        <var>object</var>
        <ind>testPriority</ind>
      </atom>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>label:Lower;priority:20;</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>lowerImpl</rel>
        </_opr>
        <var>object</var>
      </atom>
    </_head>
    <_body>
      <atom>
        <_opr>
          <rel>flag</rel>
        </_opr>
        <var>object</var>
        <ind>testPriority</ind>
      </atom>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>label:Higher;priority:80;</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>higherImpl</rel>
        </_opr>
        <var>object</var>
      </atom>
    </_head>
    <_body>
      <atom>
        <_opr>
          <rel>flag</rel>
        </_opr>
        <var>object</var>
        <ind>testPriority</ind>
      </atom>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>label:Mutex Trigger;priority:100;</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>mutexLocked</rel>
        </_opr>
        <var>object</var>
      </atom>
    </_head>
    <_body>
      <atom>
        <_opr>
          <rel>flag</rel>
        </_opr>
        <var>object</var>
        <ind>mutexLock</ind>
      </atom>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>label:Rule A;mutex:Mutex Trigger;</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>mutexA</rel>
        </_opr>
        <var>object</var>
      </atom>
    </_head>
    <_body>
      <atom>
        <_opr>
          <rel>flag</rel>
        </_opr>
        <var>object</var>
        <ind>triggeredA</ind>
      </atom>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>label:Rule B;mutex:Mutex Trigger;</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>mutexB</rel>
        </_opr>
        <var>object</var>
      </atom>
    </_head>
    <_body>
      <atom>
        <_opr>
          <rel>flag</rel>
        </_opr>
        <var>object</var>
        <ind>triggeredB</ind>
      </atom>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>label:Rule C;priority:75;mutex:Rule A;</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>mutexC</rel>
        </_opr>
        <var>object</var>
      </atom>
    </_head>
    <_body>
      <atom>
        <_opr>
          <rel>flag</rel>
        </_opr>
        <var>object</var>
        <ind>triggeredC</ind>
      </atom>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>Precondition Trigger</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>preconditionTriggered</rel>
        </_opr>
        <var>object</var>
      </atom>
    </_head>
    <_body>
      <atom>
        <_opr>
          <rel>flag</rel>
        </_opr>
        <var>object</var>
        <ind>preconditionTrigger</ind>
      </atom>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>label:Rule X;precondition:Rule Z;</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>preconditionX</rel>
        </_opr>
        <var>object</var>
      </atom>
    </_head>
    <_body>
      <atom>
        <_opr>
          <rel>flag</rel>
        </_opr>
        <var>object</var>
        <ind>triggeredX</ind>
      </atom>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>label:Rule Y;priority:25;precondition:Precondition Trigger;</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>preconditionY</rel>
        </_opr>
        <var>object</var>
      </atom>
    </_head>
    <_body>
      <atom>
        <_opr>
          <rel>flag</rel>
        </_opr>
        <var>object</var>
        <ind>triggeredY</ind>
      </atom>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>label:Rule Z;precondition:Precondition Trigger;</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>preconditionZ</rel>
        </_opr>
        <var>object</var>
      </atom>
    </_head>
    <_body>
      <atom>
        <_opr>
          <rel>flag</rel>
        </_opr>
        <var>object</var>
        <ind>triggeredZ</ind>
      </atom>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>Query C and A and B</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>queryRef</rel>
        </_opr>
        <var>object</var>
      </atom>
    </_head>
    <_body>
      <and>
        <atom>
          <_opr>
            <rel>flag</rel>
          </_opr>
          <var>object</var>
          <ind>triggerQueryB</ind>
        </atom>
        <atom>
          <_opr>
            <rel>flag</rel>
          </_opr>
          <var>object</var>
          <ind>triggerQueryA</ind>
        </atom>
        <atom>
          <_opr>
            <rel>flag</rel>
          </_opr>
          <var>object</var>
          <ind>triggerQueryC</ind>
        </atom>
      </and>
    </_body>
  </imp>
  <imp>
    <_head>
      <atom>
        <_opr>
          <rel>isValid</rel>
        </_opr>
        <var>account</var>
      </atom>
    </_head>
    <_body>
      <and>
        <atom>
          <_opr>
            <rel>balance</rel>
          </_opr>
          <var>account</var>
          <ind>actualValue</ind>
          <var>amount</var>
        </atom>
        <atom>
          <_opr>
            <rel>balance</rel>
          </_opr>
          <var>account</var>
          <ind>expectedValue</ind>
          <var>amount</var>
        </atom>
      </and>
    </_body>
  </imp>
  <imp>
    <_head>
      <atom>
        <_opr>
          <rel>isTwentyFive</rel>
        </_opr>
        <var>account</var>
      </atom>
    </_head>
    <_body>
      <atom>
        <_opr>
          <rel>balance</rel>
        </_opr>
        <var>account</var>
        <ind>actualValue</ind>
        <ind>25</ind>
      </atom>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>label:Retracting Implication;action:retract;</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>toRetract</rel>
        </_opr>
        <var>target</var>
      </atom>
    </_head>
    <_body>
      <atom>
        <_opr>
          <rel>retractionTrigger</rel>
        </_opr>
        <var>target</var>
      </atom>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>label:Retracting Implication Checker;precondition:Retracting Implication;</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>retractionConfirmation</rel>
        </_opr>
        <var>target</var>
      </atom>
    </_head>
    <_body>
      <atom>
        <_opr>
          <rel>retractionTrigger</rel>
        </_opr>
        <var>target</var>
      </atom>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>One Atom Var-less</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>first.deduction</rel>
        </_opr>
        <ind>correct</ind>
      </atom>
    </_head>
    <_body>
      <atom>
        <_opr>
          <rel>varless.value</rel>
        </_opr>
        <ind>NxBRE:GreaterThan(C)</ind>
      </atom>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>Incorrect One Atom Var-less</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>second.deduction</rel>
        </_opr>
        <ind>incorrect</ind>
      </atom>
    </_head>
    <_body>
      <atom>
        <_opr>
          <rel>varless.value</rel>
        </_opr>
        <ind>NxBRE:GreaterThan(Z)</ind>
      </atom>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>Two Atoms Var-less</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>third.deduction</rel>
        </_opr>
        <ind>correct</ind>
      </atom>
    </_head>
    <_body>
      <and>
        <atom>
          <_opr>
            <rel>varless.value</rel>
          </_opr>
          <ind>NxBRE:GreaterThan(C)</ind>
        </atom>
        <atom>
          <_opr>
            <rel>varless.value</rel>
          </_opr>
          <var>Whatever</var>
        </atom>
      </and>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>Two Atoms</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>forth.deduction</rel>
        </_opr>
        <ind>correct</ind>
      </atom>
    </_head>
    <_body>
      <and>
        <atom>
          <_opr>
            <rel>varless.value</rel>
          </_opr>
          <ind>NxBRE:GreaterThan(C)</ind>
        </atom>
        <atom>
          <_opr>
            <rel>varless.value</rel>
          </_opr>
          <var>Whatever</var>
        </atom>
      </and>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>Test Atom Function Relation</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>Success</rel>
        </_opr>
        <var>Value</var>
        <ind>Failed</ind>
      </atom>
    </_head>
    <_body>
      <and>
        <atom>
          <_opr>
            <rel>Result Count</rel>
          </_opr>
          <var>Value</var>
          <ind>Passed</ind>
        </atom>
        <atom>
          <_opr>
            <rel>Minimum Passed</rel>
          </_opr>
          <var>Threshold</var>
        </atom>
        <atom>
          <_opr>
            <rel>NxBRE:GreaterThanEqualTo</rel>
          </_opr>
          <var>Value</var>
          <var>Threshold</var>
        </atom>
      </and>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>Test Or Naf Combination</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>NotAllCategoriesCovered</rel>
        </_opr>
        <ind>true</ind>
      </atom>
    </_head>
    <_body>
      <and>
        <atom>
          <_opr>
            <rel>CheckProductInfo</rel>
          </_opr>
          <ind>true</ind>
        </atom>
        <or>
          <naf>
            <atom>
              <_opr>
                <rel>regular</rel>
              </_opr>
              <var>product</var>
            </atom>
          </naf>
          <naf>
            <atom>
              <_opr>
                <rel>luxury</rel>
              </_opr>
              <var>product</var>
            </atom>
          </naf>
        </or>
      </and>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>label:Modifying Implication;action:modify;</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>modifyTarget</rel>
        </_opr>
        <var>target</var>
        <ind>after</ind>
      </atom>
    </_head>
    <_body>
      <and>
        <atom>
          <_opr>
            <rel>modifyTrigger</rel>
          </_opr>
          <var>trigger</var>
          <var>target</var>
        </atom>
        <atom>
          <_opr>
            <rel>modifyTarget</rel>
          </_opr>
          <var>target</var>
          <ind>before</ind>
        </atom>
      </and>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>Naf match atom problem (bug 1332214)</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>naf-matched</rel>
        </_opr>
        <var>index</var>
        <var>value</var>
        <ind>success</ind>
      </atom>
    </_head>
    <_body>
      <and>
        <atom>
          <_opr>
            <rel>naf-switch</rel>
          </_opr>
          <var>index</var>
          <ind>pivot</ind>
          <var>value</var>
        </atom>
        <atom>
          <_opr>
            <rel>naf-probe</rel>
          </_opr>
          <var>index</var>
          <var>content</var>
        </atom>
        <naf>
          <atom>
            <_opr>
              <rel>naf-switch</rel>
            </_opr>
            <var>index</var>
            <ind>pivot</ind>
            <ind>foo</ind>
          </atom>
        </naf>
      </and>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>Atom Combination Bug 1346078</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>result</rel>
        </_opr>
        <var>stringA</var>
        <var>stringB</var>
      </atom>
    </_head>
    <_body>
      <and>
        <atom>
          <_opr>
            <rel>trigger-atom-combination</rel>
          </_opr>
          <var>stringA</var>
          <ind>bar</ind>
        </atom>
        <atom>
          <_opr>
            <rel>trigger-atom-combination</rel>
          </_opr>
          <var>stringB</var>
          <ind>bar</ind>
        </atom>
      </and>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>Expression Assertion Implication</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>expressionAssertionResults</rel>
        </_opr>
        <ind>expr:{var:intA}+5*{var:intB}</ind>
        <ind>done</ind>
      </atom>
    </_head>
    <_body>
      <atom>
        <_opr>
          <rel>expressionAssertionTrigger</rel>
        </_opr>
        <var>intA</var>
        <var>intB</var>
      </atom>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>label:Msg DJours (for bug #1252700);priority:70;</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>ClientMess</rel>
        </_opr>
        <ind>Title</ind>
        <var>clientNb</var>
      </atom>
    </_head>
    <_body>
      <atom>
        <_opr>
          <rel>ClientNum</rel>
        </_opr>
        <ind>D16.0</ind>
        <var>clientNb</var>
        <ind>366</ind>
      </atom>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>label:Sum D16.0 (for bug #1252700);priority:30;action:modify;</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>SumD16.0</rel>
        </_opr>
        <ind>expr:({predicate:0} + {var:jours})</ind>
      </atom>
    </_head>
    <_body>
      <atom>
        <_opr>
          <rel>ClientNum</rel>
        </_opr>
        <ind>D16.0</ind>
        <var>staffNb</var>
        <var>jours</var>
      </atom>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>label:Compute Next Due Date;action:modify;</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>Contract Details</rel>
        </_opr>
        <var>Reference</var>
        <ind>expr:{var:Date}.AddMonths({var:Period Months})</ind>
        <var>Period Months</var>
      </atom>
    </_head>
    <_body>
      <and>
        <atom>
          <_opr>
            <rel>Contract Details</rel>
          </_opr>
          <var>Reference</var>
          <var>Date</var>
          <var>Period Months</var>
        </atom>
        <atom>
          <_opr>
            <rel>expr:System.DateTime.Now &gt; {var:Date}</rel>
          </_opr>
          <var>Date</var>
        </atom>
      </and>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>polite education</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>education</rel>
        </_opr>
        <var>character</var>
        <ind>polite</ind>
      </atom>
    </_head>
    <_body>
      <atom>
        <_opr>
          <rel>talking</rel>
        </_opr>
        <var>character</var>
        <ind>expr:{ind}.StartsWith("hello")</ind>
      </atom>
    </_body>
  </imp>
  <imp>
    <_rlab>
      <ind>Regression test for bug #1358781</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>result</rel>
        </_opr>
        <var>Animal</var>
      </atom>
    </_head>
    <_body>
      <and>
        <or>
          <atom>
            <_opr>
              <rel>dog</rel>
            </_opr>
            <var>Animal</var>
            <ind>Black</ind>
          </atom>
          <atom>
            <_opr>
              <rel>dog</rel>
            </_opr>
            <var>Animal</var>
            <ind>White</ind>
          </atom>
        </or>
        <or>
          <atom>
            <_opr>
              <rel>cat</rel>
            </_opr>
            <var>Animal</var>
            <ind>Brown</ind>
          </atom>
          <atom>
            <_opr>
              <rel>bird</rel>
            </_opr>
            <var>Animal</var>
            <ind>Red</ind>
          </atom>
        </or>
      </and>
    </_body>
  </imp>
  <!--Facts-->
  <fact>
    <_rlab>
      <ind>Honda Regular</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>regular</rel>
        </_opr>
        <ind>Honda</ind>
      </atom>
    </_head>
  </fact>
  <fact>
    <_rlab>
      <ind>Porsche Luxury</ind>
    </_rlab>
    <_head>
      <atom>
        <_opr>
          <rel>luxury</rel>
        </_opr>
        <ind>Porsche</ind>
      </atom>
    </_head>
  </fact>
  <fact>
    <_head>
      <atom>
        <_opr>
          <rel>spending</rel>
        </_opr>
        <ind>Peter Miller</ind>
        <ind>min 5000 euro</ind>
        <ind>previous year</ind>
      </atom>
    </_head>
  </fact>
</rulebase>